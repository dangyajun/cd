
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>CD_DBUFFER</title>
<link rel="stylesheet" type="text/css" href="../../style.css">
</head>

<body>

<h2 style="text-align: left">CD_IMIMAGE - RGB Client Image Driver using an 
inImage structure (cdim.h)</h2>

  <p>The driver uses the <a href="irgb.html">CD_IMAGERGB</a> driver to draw in 
  an imImage. (since 5.9)</p>

<h3>Use</h3>

  <p>The canvas is created by means of a call to function
  <a href="../func/init.html#cdCreateCanvas">
  <font face="Courier"><strong>cdCreateCanvas</strong></font></a><font face="Courier">(CD_IMIMAGE, 
  image)</font>, after which other functions in the CD library can be called as 
  usual. This function creates a CD canvas to use with an existing imImage, but 
  the image must be a RGB bitmap image (data_type == IM_BYTE and color_space == 
  IM_RGB). The parameter <font face="Courier">Data</font> is a 
  pointer to the already created imImage. The image can has an alpha channel. </p>
  <p>Any amount of such canvases may exist simultaneously. It is important to 
  note that a call to function
  <a href="../func/init.html#cdKillCanvas">
  <font face="Courier"><strong>cdKillCanvas</strong></font></a> is required to 
  properly <b>end</b> the driver. Call function
  <a href="../func/init.html#cdKillCanvas">
  <font face="Courier"><strong>cdKillCanvas</strong></font></a> for this driver 
  before calling <font face="Courier"><strong>cdKillCanvas</strong></font> for 
  the client canvas driver.</p>
  <p>The drawing functions will work normally as if they were drawn on the image 
  RGB driver. </p>
  <p>If the image is resized the canvas must be destroyed and created again.</p>
<p>To use this driver, the application must be linked with the &quot;cdim&quot; library. 
In Lua, it is necessary to call function&nbsp;cdluaim_open()&nbsp;after a call to 
function&nbsp;cdlua_open(), apart from linking with the &quot;cdluaim&quot; library. This is 
not necessary if you do require&quot;cdluaim&quot;.&nbsp; </p>

<h3>Behavior of Functions</h3>

  <p>This driver depends on the <a href="irgb.html">RGB Client Image Driver</a>.</p>

<h3>Utility Functions</h3>

<pre class="function"><strong>void cdCanvasPutImImage(cdCanvas* canvas, const imImage* image, int x, int y, int w, int h); [in C]
</strong>void cdfCanvasPutImImage(cdCanvas* canvas, const imImage* image, double x, double y, double w, double h); [in C]
void wdCanvasPutImImage(cdCanvas* canvas, const imImage* image, double x, double y, double w, double h); (WC) [in C]

canvas:PutImImage(image: imImage, x,y,w,h: number) [in Lua]
canvas:fPutImImage(image: imImage, x,y,w,h: number) [in Lua]
canvas:wPutImImage(image: imImage, x,y,w,h: number) (WC) [in Lua]</pre>
<p>Draws an <strong>imImage</strong> on any canvas. Image must be a 
  displayable image (<strong>imImageIsBitmap</strong>), and it can has an alpha 
channel.</p>
<pre class="function"><strong>void cdCanvasPatternImImage(cdCanvas* canvas, const imImage* image); [in C]

</strong>cd.CanvasPatternImImage(canvas: cdCanvas, image: imImage) [in Lua]</pre>
<p>Defines an <strong>imImage</strong> as a pattern on any canvas. Image must 
  be a displayable image (<strong>imImageIsBitmap</strong>).</p>
<pre class="function"><strong>void cdCanvasStippleImImage(cdCanvas* canvas, const imImage* image); [in C]

</strong>cd.CanvasStippleImImage(canvas: cdCanvas, image: imImage) [in Lua]</pre>
<p>Defines an <strong>imImage</strong> as a stipple on any canvas. Image must 
  be a binary image (color_space=IM_BINARY).</p>
<pre class="function"><strong>void cdCanvasGetImImage(cdCanvas* canvas, const imImage* image, int x, int y); [in C]
</strong>void cdfCanvasGetImImage(cdCanvas* canvas, const imImage* image, double x, double y); [in C]
void wdCanvasGetImImage(cdCanvas* canvas, const imImage* image, double x, double y); (WC) [in C]

canvas:GetImImage(image: imImage, x,y: number) [in Lua]
canvas:fGetImImage(image: imImage, x,y: number) [in Lua]
canvas:wGetImImage(image: imImage, x,y: number) (WC) [in Lua]</pre>
<p>Retrieves the canvas contents in an <strong>imImage</strong>. Image must 
  be a display RGB image (color_space=IM_RGB and data_type=IM_BYTE).</p>


</body>

</html>
